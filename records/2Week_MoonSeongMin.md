## Title: [2Week] 문성민

### 미션 요구사항 분석 & 체크리스트

---
### 필수 미션
- 호감표시를 할 때 예외처리 케이스 3가지를 추가로 처리

### 배경
- 호감상대등록과 호감표시는 동의어입니다.
- 현재 호감표시기능이 구현되어 있고 아래와 같은 예외처리는 이미 구현되어 있습니다.
- 케이스 1 : 현재 로그인을 하지 않으면 호감표시를 할 수 없습니다.
- 케이스 2 : 현재 본인의 인스타ID를 등록하지 않은 회원은 호감표시를 할 수 없습니다.
- 케이스 3 : 현재 본인이 본인의 인스타ID를 호감상대로 등록할 수 없습니다.

### 목표
- [x] 케이스 4 : 한명의 인스타회원이 다른 인스타회원에게 중복으로 호감표시를 할 수 없습니다.
1. 예를들어 본인의 인스타ID가 aaaa, 상대의 인스타ID가 bbbb 라고 하자.
2. aaaa 는 bbbb 에게 호감을 표시한다.(사유 : 외모)
3. 잠시 후 aaaa 는 bbbb 에게 다시 호감을 표시한다.(사유 : 외모)
4. 이 경우에는 처리되면 안된다.(rq.historyBack)

- [x] 케이스 5 : 한명의 인스타회원이 11명 이상의 호감상대를 등록 할 수 없습니다.
1. 예를들어 본인의 인스타ID가 aaaa 라고 하자.
2. aaaa 는 bbbb, cccc, dddd, eeee, ffff, gggg, hhhh, iiii, jjjj, kkkk 에 대해서 호감표시를 했다.(사유는 상관없음, aaaa는 현재까지 10명에게 호감표시를 했음)
3. 잠시 후 aaaa 는 llll 에게 호감표시를 한다.(사유는 상관없음)
4. 이 경우에는 처리되면 안된다.(rq.historyBack)

- [x] 케이스 6 : 케이스 4 가 발생했을 때 기존의 사유와 다른 사유로 호감을 표시하는 경우에는 성공으로 처리한다.
1. 예를들어 본인의 인스타ID가 aaaa, 상대의 인스타ID가 bbbb 라고 하자.
2. aaaa 는 bbbb 에게 호감을 표시한다.(사유 : 외모)
3. 잠시 후 aaaa 는 bbbb 에게 다시 호감을 표시한다.(사유 : 성격)
4. 이 경우에는 새 호감상대로 등록되지 않고, 기존 호감표시에서 사유만 수정된다.
   - 외모 => 성격
   - resultCode=S-2
   - msg=bbbb 에 대한 호감사유를 외모에서 성격으로 변경합니다.

### 추가 미션
- [ ] 네이버 로그인 연동

### 2주차 미션 요약

---

**[접근 방법]**

- 2주차 case 5의 10명까지로 호감표시를 제한하는 방법에서는 단순한 하드코딩으로 진행하였으나 4/12일 강사님의 설명을 듣고 yml에 
```
custom:
  likeablePerson:
  from:
  max: 10
```
를 추가하고 AppConfig로 접근하여 해결하였다.

- 2주차 case 4와 6도 마찬가지로 강의를 듣고 수정하여 JPA 함수에서 언더바(_)를 사용하여 관련 엔티티의 필드까지 검색조건으로 활용하였다.
- 먼저 중복된 호감표시를 한 상대를 중복 처리하고 그 후에 case4에서 중복일 경우 기존의 사유와 다른 사유로 호감을 표시한다면 성공으로
처리하여 사유를 변경해주었다.

**[특이사항]**

- 강사님의 추가적인 힌트를 듣고 해결하게 되어 아쉬웠다.


  **참고: [Refactoring]**

    - Refactoring 시 주로 다루어야 할 이슈들에 대해 리스팅합니다.
    - 1차 리팩토링은 기능 개발을 종료한 후, 스스로 코드를 다시 천천히 읽어보면서 진행합니다.
    - 2차 리팩토링은 피어리뷰를 통해 전달받은 다양한 의견과 피드백을 조율하여 진행합니다.